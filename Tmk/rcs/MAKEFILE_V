head	10.10;
access;
symbols
	Tmk-1_0_3_1R:10.8;
locks
	alc:10.10; strict;
comment	@# @;


10.10
date	98.11.04.05.03.38;	author alc;	state Exp;
branches;
next	10.9;

10.9
date	98.11.04.04.58.19;	author alc;	state Exp;
branches;
next	10.8;

10.8
date	98.10.11.22.28.50;	author alc;	state Exp;
branches;
next	10.7;

10.7
date	98.06.17.18.17.52;	author alc;	state Exp;
branches;
next	10.6;

10.6
date	97.11.09.00.32.27;	author alc;	state Exp;
branches;
next	10.5;

10.5
date	97.09.21.18.47.29;	author alc;	state Exp;
branches;
next	10.4;

10.4
date	97.09.02.04.41.13;	author alc;	state Exp;
branches;
next	10.3;

10.3
date	97.08.26.15.34.42;	author alc;	state Exp;
branches;
next	10.2;

10.2
date	97.03.18.21.30.02;	author alc;	state Exp;
branches;
next	10.0;

10.0
date	96.03.17.17.26.19;	author alc;	state Rel;
branches
	10.0.1.1;
next	9.7;

9.7
date	96.03.17.16.37.13;	author alc;	state Rel;
branches;
next	9.6;

9.6
date	96.03.17.04.57.55;	author alc;	state Exp;
branches
	9.6.1.1;
next	9.5;

9.5
date	96.03.16.07.49.45;	author alc;	state Exp;
branches
	9.5.1.1;
next	9.4;

9.4
date	96.03.15.23.55.16;	author alc;	state Exp;
branches;
next	;

9.5.1.1
date	96.03.16.21.36.08;	author alc;	state Exp;
branches;
next	;

9.6.1.1
date	96.03.17.16.34.25;	author alc;	state Exp;
branches;
next	;

10.0.1.1
date	96.03.17.17.36.51;	author alc;	state Rel;
branches;
next	;


desc
@@


10.10
log
@Include every ReleaseNotes file in the binary distributions.
@
text
@ #############################################################################
 #                                                                           #
 #  Copyright (c) 1991-1994                                                  #
 #  by TreadMarks, L.L.C. (TREADMARKS), Houston, Texas	  		     #
 #                                                                           #
 #  This software is furnished under a license and may be used and  copied   #
 #  only  in  accordance  with  the  terms  of  such  license and with the   #
 #  inclusion of the above copyright notice.  This software or  any  other   #
 #  copies  thereof may not be provided or otherwise made available to any   #
 #  other person.  No title to or ownership of  the  software  is  hereby    #
 #  transferred.                                                             #
 #									     #
 #  The recipient of this software (RECIPIENT) acknowledges and agrees that  #
 #  the software contains information and trade secrets that are	     #
 #  confidential and proprietary to TREADMARKS.  RECIPIENT agrees to take    #
 #  all reasonable steps to safeguard the software, and to prevent its       #
 #  disclosure.								     # 
 #                                                                           #
 #  The information in this software is subject to change  without  notice   #
 #  and should  not  be  construed  as  a commitment by TREADMARKS.	     #
 #                                                                           #
 #  This software is furnished AS IS, without warranty of any kind, either   #
 #  express or implied (including, but not limited to, any implied warranty  #
 #  of merchantability or fitness), with regard to the software.  	     #
 #  TREADMARKS assumes no responsibility for the use or reliability of its   #
 #  software.  TREADMARKS shall not be liable for any special, incidental,   #
 #  or consequential damages, or any damages whatsoever due to causes beyond #
 #  the reasonable control of TREADMARKS, loss of use, data or profits, or   #
 #  from loss or destruction of materials provided to TREADMARKS by	     #
 #  RECIPIENT.								     #
 #									     #
 #  TREADMARKS's liability for damages arising out of or in connection with  #
 #  the use or performance of this software, whether in an action of	     #
 #  contract or tort including negligence, shall be limited to the purchase  #
 #  price, or the total amount paid by RECIPIENT, whichever is less.	     #
 #                                                                           #
 #############################################################################
 
 #
 # $Id: Makefile,v 10.9 1998/11/04 04:58:19 alc Exp alc $
 #
 # Description:    
 #	builds the ATM and Ethernet libraries and the sample programs
 #
 # Facility:	TreadMarks Distributed Shared Memory System
 #
 # History:
 #	 7-Sep-1993	Pete Keleher	Created
 #	15-May-1994	Alan L. Cox	Added support for the RS/6000
 #	14-Jun-1994	Alan L. Cox	Added support for the Alpha
 #					  (changes provided by Povl Koch)
 #	Version 0.9.0
 #
 #	Version 0.9.1
 #
 #	18-Jan-1995     Rob Fowler	Demo support
 #
 #	Version 0.9.2
 #
 #	 4-Apr-1995	Alan L. Cox	Added support for SGI/IRIX
 #	10-Apr-1995	Alan L. Cox	Added support for the HP PA
 #      28-Apr-1995     Rob Fowler	Automation of binary distributions
 #	29-Apr-1995	Alan L. Cox	Added support for Solaris
 #	25-May-1995	Alan L. Cox	Defined SHELL for SGI/IRIX
 #
 #	Version 0.9.3
 #
 #	15-Jan-1996	Alan L. Cox	Adapted for FreeBSD 2.1/Intel x86
 #
 #	Version 0.9.7
 #

SHELL	= /bin/sh

all:
	@@echo Usage: make alpha_{linux2,osf4}"|"hppa_hpux10"|"i386_{bsdi3,freebsd2,linux2,sunos5}"|"mips_irix6"|"rs6k_{aix4,mpl3}"|"sparc_{sunos4,sunos5}

all_src:
	path=`pwd | sed 's-.*/--'` ; \
	cd .. ; \
	tar cfv $$path/$$path.tar $$path/Makefile $$path/RCS $$path/ReleaseNotes* $$path/.common $$path/apps $$path/doc $$path/include $$path/lib.* $$path/src

clean: clean_lib clean_apps

clean_lib:
	for path in lib.* ; do cd $$path ; $(MAKE) clean ; cd .. ; done

clean_apps:
	cd apps ; \
	for path in * ; do \
		cd $$path ; \
		for arch in bin.* ; do cd $$arch ; $(MAKE) clean ; cd .. ; done ; \
		cd .. ; \
	done

alpha_linux2_bin alpha_osf4_bin hppa_hpux10_bin i386_bsdi3_bin i386_freebsd2_bin i386_linux2_bin i386_sunos5_bin mips_irix6_bin rs6k_aix4_bin rs6k_mpl3_bin sparc_sunos4_bin sparc_sunos5_bin:
	path=`pwd | sed 's-.*/--'` ; \
	cd .. ; \
	tar cfv $$path/$$path-$(@@:_bin=).tar $$path/ReleaseNotes* $$path/doc $$path/include $$path/lib.$(@@:_bin=)/libTmk_udp.a $$path/lib.$(@@:_bin=)/support $$path/apps/Jacobi_f/src $$path/apps/Jacobi_f/.common $$path/apps/Jacobi_f/bin.$(@@:_bin=) $$path/apps/sor_c/README $$path/apps/sor_c/src $$path/apps/sor_c/.common $$path/apps/sor_c/bin.$(@@:_bin=) $$path/apps/test_c/README $$path/apps/test_c/src $$path/apps/test_c/.common $$path/apps/test_c/bin.$(@@:_bin=) $$path/apps/tsp_c/README $$path/apps/tsp_c/src $$path/apps/tsp_c/.common $$path/apps/tsp_c/bin.$(@@:_bin=) $$path/apps/tsp_c/tspfiles ; \
	cd $$path ; \
	compress -f $$path-$(@@:_bin=).tar ; \
	uuencode $$path-$(@@:_bin=).tar.Z $$path-$(@@:_bin=).tar.Z > $$path-$(@@:_bin=).tar.Z.uu

alpha_linux2_bin: alpha_linux2
alpha_osf4_bin: alpha_osf4
hppa_hpux10_bin: hppa_hpux10
i386_bsdi3_bin: i386_bsdi3
i386_freebsd2_bin: i386_freebsd2
i386_linux2_bin: i386_linux2
i386_sunos5_bin: i386_sunos5
mips_irix6_bin: mips_irix6
rs6k_aix4_bin: rs6k_aix4
rs6k_mpl3_bin: rs6k_mpl3
sparc_sunos4_bin: sparc_sunos4
sparc_sunos5_bin: sparc_sunos5

rs6k_aix4_ll_bin: rs6k_aix4_ll
	path=`pwd | sed 's-.*/--'` ; \
	cd .. ; \
	tar cfv $$path/$$path-$(@@:_bin=).tar $$path/ReleaseNotes* $$path/doc $$path/include $$path/lib.$(@@:_ll_bin=)/libTmk_udp.a $$path/lib.$(@@:_ll_bin=)/libTmk_udp_ll.a $$path/lib.$(@@:_ll_bin=)/support $$path/apps/Jacobi_f/README $$path/apps/Jacobi_f/src $$path/apps/Jacobi_f/.common $$path/apps/Jacobi_f/bin.$(@@:_bin=) $$path/apps/sor_c/README $$path/apps/sor_c/src $$path/apps/sor_c/.common $$path/apps/sor_c/bin.$(@@:_bin=) $$path/apps/test_c/README $$path/apps/test_c/src $$path/apps/test_c/.common $$path/apps/test_c/bin.$(@@:_bin=) $$path/apps/tsp_c/README $$path/apps/tsp_c/src $$path/apps/tsp_c/.common $$path/apps/tsp_c/bin.$(@@:_bin=) $$path/apps/tsp_c/tspfiles ; \
	cd $$path ; \
	compress -f $$path-$(@@:_bin=).tar ; \
	uuencode $$path-$(@@:_bin=).tar.Z $$path-$(@@:_bin=).tar.Z > $$path-$(@@:_bin=).tar.Z.uu

rs6k_aix4_ll:
	cd lib.$(@@:_ll=) ; $(MAKE) ; $(MAKE) libTmk_udp_ll.a
	cd apps ; for path in * ; do cd $$path/bin.$(@@:_ll=) ; $(MAKE) ; cd ../.. ; done

alpha_linux2 alpha_osf4 hppa_hpux10 i386_bsdi3 i386_freebsd2 i386_linux2 i386_sunos5 mips_irix6 rs6k_aix4 rs6k_mpl3 sparc_sunos4 sparc_sunos5:
	cd lib.$@@ ; $(MAKE)
	cd apps ; for path in * ; do cd $$path/bin.$@@ ; $(MAKE) ; cd ../.. ; done
@


10.9
log
@Change the "rs6k_aix4_ll" rule.  Eliminate the dependency
on "rs6k_aix4".
@
text
@d40 1
a40 1
 # $Id: Makefile,v 10.8 1998/10/11 22:28:50 alc Exp alc $
d99 1
a99 1
	tar cfv $$path/$$path-$(@@:_bin=).tar $$path/ReleaseNotes $$path/doc $$path/include $$path/lib.$(@@:_bin=)/libTmk_udp.a $$path/lib.$(@@:_bin=)/support $$path/apps/Jacobi_f/src $$path/apps/Jacobi_f/.common $$path/apps/Jacobi_f/bin.$(@@:_bin=) $$path/apps/sor_c/README $$path/apps/sor_c/src $$path/apps/sor_c/.common $$path/apps/sor_c/bin.$(@@:_bin=) $$path/apps/test_c/README $$path/apps/test_c/src $$path/apps/test_c/.common $$path/apps/test_c/bin.$(@@:_bin=) $$path/apps/tsp_c/README $$path/apps/tsp_c/src $$path/apps/tsp_c/.common $$path/apps/tsp_c/bin.$(@@:_bin=) $$path/apps/tsp_c/tspfiles ; \
@


10.8
log
@Delete the Jacobi README from the binary distribution.  That file
doesn't exist anymore.
@
text
@d40 1
a40 1
 # $Id: Makefile,v 10.7 1998/06/17 18:17:52 alc Exp alc $
d117 1
a117 1
rs6k_aix4_ll_bin: rs6k_aix4_ll rs6k_aix4
d126 2
a127 1
	cd lib.$(@@:_ll=) ; $(MAKE) libTmk_udp_ll.a
@


10.7
log
@Include the RCS directory at the top level in the "all_src" tar file.
@
text
@d40 1
a40 1
 # $Id: Makefile,v 10.6 1997/11/09 00:32:27 alc Exp alc $
d99 1
a99 1
	tar cfv $$path/$$path-$(@@:_bin=).tar $$path/ReleaseNotes $$path/doc $$path/include $$path/lib.$(@@:_bin=)/libTmk_udp.a $$path/lib.$(@@:_bin=)/support $$path/apps/Jacobi_f/README $$path/apps/Jacobi_f/src $$path/apps/Jacobi_f/.common $$path/apps/Jacobi_f/bin.$(@@:_bin=) $$path/apps/sor_c/README $$path/apps/sor_c/src $$path/apps/sor_c/.common $$path/apps/sor_c/bin.$(@@:_bin=) $$path/apps/test_c/README $$path/apps/test_c/src $$path/apps/test_c/.common $$path/apps/test_c/bin.$(@@:_bin=) $$path/apps/tsp_c/README $$path/apps/tsp_c/src $$path/apps/tsp_c/.common $$path/apps/tsp_c/bin.$(@@:_bin=) $$path/apps/tsp_c/tspfiles ; \
@


10.6
log
@Updated to hpux10.  (Corrected one error.)
@
text
@d40 1
a40 1
 # $Id: Makefile,v 10.5 1997/09/21 18:47:29 alc Exp alc $
d81 1
a81 1
	tar cfv $$path/$$path.tar $$path/Makefile $$path/ReleaseNotes* $$path/.common $$path/apps $$path/doc $$path/include $$path/lib.* $$path/src
@


10.5
log
@Updated the application directory naming convention: Use program_{c,f}
instead of program.{c,f} to avoid confusion.  (The latter name looks
like a source file, not a directory.)

Reported by Alex Schaffer.
@
text
@d40 1
a40 1
 # $Id: Makefile,v 10.4 1997/09/02 04:41:13 alc Exp alc $
d76 1
a76 1
	@@echo Usage: make alpha_{linux2,osf4}"|"hppa_hpux9"|"i386_{bsdi3,freebsd2,linux2,sunos5}"|"mips_irix6"|"rs6k_{aix4,mpl3}"|"sparc_{sunos4,sunos5}
d96 1
a96 1
alpha_linux2_bin alpha_osf4_bin hppa_hpux9_bin i386_bsdi3_bin i386_freebsd2_bin i386_linux2_bin i386_sunos5_bin mips_irix6_bin rs6k_aix4_bin rs6k_mpl3_bin sparc_sunos4_bin sparc_sunos5_bin:
d106 1
a106 1
hppa_hpux2_bin: hppa_hpux9
d128 1
a128 1
alpha_linux2 alpha_osf4 hppa_hpux9 i386_bsdi3 i386_freebsd2 i386_linux2 i386_sunos5 mips_irix6 rs6k_aix4 rs6k_mpl3 sparc_sunos4 sparc_sunos5:
@


10.4
log
@Added BSD/OS support.
@
text
@d40 1
a40 1
 # $Id: Makefile,v 10.3 1997/08/26 15:34:42 alc Exp alc $
d99 1
a99 1
	tar cfv $$path/$$path-$(@@:_bin=).tar $$path/ReleaseNotes $$path/doc $$path/include $$path/lib.$(@@:_bin=)/libTmk_udp.a $$path/lib.$(@@:_bin=)/support $$path/apps/Jacobi.f/README $$path/apps/Jacobi.f/src $$path/apps/Jacobi.f/.common $$path/apps/Jacobi.f/bin.$(@@:_bin=) $$path/apps/sor.c/README $$path/apps/sor.c/src $$path/apps/sor.c/.common $$path/apps/sor.c/bin.$(@@:_bin=) $$path/apps/test.c/README $$path/apps/test.c/src $$path/apps/test.c/.common $$path/apps/test.c/bin.$(@@:_bin=) $$path/apps/tsp.c/README $$path/apps/tsp.c/src $$path/apps/tsp.c/.common $$path/apps/tsp.c/bin.$(@@:_bin=) $$path/apps/tsp.c/tspfiles ; \
d120 1
a120 1
	tar cfv $$path/$$path-$(@@:_bin=).tar $$path/ReleaseNotes* $$path/doc $$path/include $$path/lib.$(@@:_ll_bin=)/libTmk_udp.a $$path/lib.$(@@:_ll_bin=)/libTmk_udp_ll.a $$path/lib.$(@@:_ll_bin=)/support $$path/apps/Jacobi.f/README $$path/apps/Jacobi.f/src $$path/apps/Jacobi.f/.common $$path/apps/Jacobi.f/bin.$(@@:_bin=) $$path/apps/sor.c/README $$path/apps/sor.c/src $$path/apps/sor.c/.common $$path/apps/sor.c/bin.$(@@:_bin=) $$path/apps/test.c/README $$path/apps/test.c/src $$path/apps/test.c/.common $$path/apps/test.c/bin.$(@@:_bin=) $$path/apps/tsp.c/README $$path/apps/tsp.c/src $$path/apps/tsp.c/.common $$path/apps/tsp.c/bin.$(@@:_bin=) $$path/apps/tsp.c/tspfiles ; \
@


10.3
log
@Updated the Makefile targets for building the binary distributions.
@
text
@d40 1
a40 1
 # $Id: Makefile,v 10.2 1997/03/18 21:30:02 alc Exp alc $
d76 1
a76 1
	@@echo Usage: make alpha_{linux2,osf4}"|"hppa_hpux9"|"i386_{freebsd2,linux2,sunos5}"|"mips_irix6"|"rs6k_{aix4,mpl3}"|"sparc_{sunos4,sunos5}
d96 1
a96 1
alpha_linux2_bin alpha_osf4_bin hppa_hpux9_bin i386_freebsd2_bin i386_linux2_bin i386_sunos5_bin mips_irix6_bin rs6k_aix4_bin rs6k_mpl3_bin sparc_sunos4_bin sparc_sunos5_bin:
d107 1
d128 1
a128 1
alpha_linux2 alpha_osf4 hppa_hpux9 i386_freebsd2 i386_linux2 i386_sunos5 mips_irix6 rs6k_aix4 rs6k_mpl3 sparc_sunos4 sparc_sunos5:
@


10.2
log
@Updated the directory naming convention: architecture_OSrev.  Added
support for Solaris/x86 and Linux/Alpha.
@
text
@d40 1
a40 1
 # $Id: Makefile,v 10.2 1997/03/18 20:54:59 alc Exp $
d96 1
a96 1
alpha_bin hpux_bin i386_freebsd2_bin i386_linux2_bin mips_bin mpl_bin rs6k_bin sgi_bin sparc_bin sunos5_bin:
d99 1
a99 1
	tar cfv $$path/$$path-$(@@:_bin=).tar $$path/ReleaseNotes $$path/doc $$path/include $$path/lib.$(@@:_bin=)/libTmk_udp.a $$path/lib.$(@@:_bin=)/support $$path/apps/Jacobi/README $$path/apps/Jacobi/src $$path/apps/Jacobi/.common $$path/apps/Jacobi/bin.$(@@:_bin=) $$path/apps/sor/README $$path/apps/sor/src $$path/apps/sor/.common $$path/apps/sor/bin.$(@@:_bin=) $$path/apps/test/README $$path/apps/test/src $$path/apps/test/.common $$path/apps/test/bin.$(@@:_bin=) $$path/apps/tsp/README $$path/apps/tsp/src $$path/apps/tsp/.common $$path/apps/tsp/bin.$(@@:_bin=) $$path/apps/tsp/tspfiles ; \
d119 1
a119 1
	tar cfv $$path/$$path-$(@@:_bin=).tar $$path/ReleaseNotes* $$path/doc $$path/include $$path/lib.$(@@:_ll_bin=)/libTmk_udp.a $$path/lib.$(@@:_ll_bin=)/libTmk_udp_ll.a $$path/lib.$(@@:_ll_bin=)/support $$path/apps/Jacobi/README $$path/apps/Jacobi/src $$path/apps/Jacobi/.common $$path/apps/Jacobi/bin.$(@@:_bin=) $$path/apps/sor/README $$path/apps/sor/src $$path/apps/sor/.common $$path/apps/sor/bin.$(@@:_bin=) $$path/apps/test/README $$path/apps/test/src $$path/apps/test/.common $$path/apps/test/bin.$(@@:_bin=) $$path/apps/tsp/README $$path/apps/tsp/src $$path/apps/tsp/.common $$path/apps/tsp/bin.$(@@:_bin=) $$path/apps/tsp/tspfiles ; \
@


10.0
log
@Tmk-0.10R
@
text
@d38 3
a40 2
 #############################################################################
 # File:		Makefile
a71 1
 #############################################################################
d76 1
a76 1
	@@echo Usage: make alpha"|"hpux"|"i386"|"mips"|"rs6k"|"sgi"|"sparc"|"sunos5
d96 1
a96 1
alpha_bin hpux_bin i386_bin mips_bin rs6k_bin sgi_bin sparc_bin sunos5_bin:
d99 1
a99 1
	tar cfv $$path/$$path-$(@@:_bin=).tar $$path/ReleaseNotes $$path/doc $$path/include $$path/lib.$(@@:_bin=)/libTmk_udp.a $$path/apps/Jacobi $$path/apps/sor $$path/apps/test $$path/apps/tsp ; \
d104 11
a114 8
alpha_bin: alpha
hpux_bin: hpux
i386_bin: i386
mips_bin: mips
rs6k_bin: rs6k
sgi_bin: sgi
sparc_bin: sparc
sunos5_bin: sunos5
d116 1
a116 1
rs6k_ll_bin: rs6k_ll rs6k
d119 1
a119 1
	tar cfv $$path/$$path-$(@@:_bin=).tar $$path/ReleaseNotes* $$path/doc $$path/include $$path/lib.$(@@:_ll_bin=)/libTmk_udp.a $$path/lib.$(@@:_ll_bin=)/libTmk_udp_ll.a $$path/apps/Jacobi $$path/apps/sor $$path/apps/test $$path/apps/tsp ; \
d124 1
a124 1
rs6k_ll:
d127 1
a127 1
alpha hpux i386 mips rs6k sgi sparc sunos5:
@


10.0.1.1
log
@FASTLINK Version
@
text
@d81 1
a81 1
	tar cfv $$path/$$path.tar $$path/Makefile $$path/ReleaseNotes* $$path/.common $$path/doc $$path/include $$path/lib.* $$path/src
d99 1
a99 1
	tar cfv $$path/$$path-$(@@:_bin=).tar $$path/ReleaseNotes $$path/doc $$path/include $$path/lib.$(@@:_bin=)/libTmk_udp.a ; # $$path/apps/Jacobi $$path/apps/sor $$path/apps/test $$path/apps/tsp ; \
d126 1
a126 1
#	cd apps ; for path in * ; do cd $$path/bin.$@@ ; $(MAKE) ; cd ../.. ; done
@


9.7
log
@*** empty log message ***
@
text
@@


9.6
log
@*** empty log message ***
@
text
@d67 4
d76 1
a76 1
	@@echo Usage: make alpha"|"hpux"|"mips"|"rs6k"|"sgi"|"sparc"|"sunos5
d96 1
a96 1
alpha_bin hpux_bin mips_bin rs6k_bin sgi_bin sparc_bin sunos5_bin:
d106 1
d124 1
a124 1
alpha hpux mips rs6k sgi sparc sunos5:
@


9.6.1.1
log
@FASTLINK Version
@
text
@d95 1
a95 1
	tar cfv $$path/$$path-$(@@:_bin=).tar $$path/ReleaseNotes $$path/doc $$path/include $$path/lib.$(@@:_bin=)/libTmk_udp.a ; \
d99 19
@


9.5
log
@*** empty log message ***
@
text
@d95 1
a95 1
	tar cfv $$path/$$path-$(@@:_bin=).tar $$path/ReleaseNotes $$path/doc $$path/include $$path/lib.$(@@:_bin=)/libTmk_udp.a $$path/apps/sor $$path/apps/test $$path/apps/tsp ; \
d99 19
@


9.5.1.1
log
@*** empty log message ***
@
text
@d95 1
a95 1
	tar cfv $$path/$$path-$(@@:_bin=).tar $$path/ReleaseNotes $$path/doc $$path/include $$path/lib.$(@@:_bin=)/libTmk_udp.a ; \
@


9.4
log
@*** empty log message ***
@
text
@@
